--------------------------------------
Running PBS prologue script
--------------------------------------
User and Job Data:
--------------------------------------
Job ID:    760282.qb3
Username:  jianjun
Group:     latechusers
Date:      05-Mar-2020 23:52
Node:      qb390 (41244)
--------------------------------------
PBS has allocated the following nodes:

qb390
qb395

A total of 40 processors on 2 nodes allocated
---------------------------------------------
Check nodes and clean them of stray processes
---------------------------------------------
Checking node qb390 23:52:31 
Checking node qb395 23:52:33 
Done clearing all the allocated nodes
------------------------------------------------------
Concluding PBS prologue script - 05-Mar-2020 23:52:33
------------------------------------------------------


redun:
[[  1.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   1.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   1.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 ..., 
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   2.91929260e+16
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    2.91929260e+16   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   2.91929260e+16]]
(1500, 1500)
encoder:
[[  1.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   1.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   1.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 ..., 
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   2.91929260e+16
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    2.91929260e+16   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   2.91929260e+16]]
(3000, 1500)
------------------------------------------
mtrx1:
[[0 0 0 ..., 0 1 1]
 [1 1 1 ..., 0 1 1]
 [1 1 1 ..., 1 1 0]
 ..., 
 [1 0 0 ..., 0 0 0]
 [0 1 1 ..., 1 1 1]
 [0 0 0 ..., 0 1 0]]
(1500, 1500)
---------------------------------------------
mtrx1_coded:
(3000, 1500)
---------------------------------------------
mtrx2:
[[1 0 0 ..., 0 0 0]
 [1 1 0 ..., 0 0 0]
 [1 0 0 ..., 0 0 0]
 ..., 
 [0 1 0 ..., 1 1 1]
 [1 1 1 ..., 0 0 0]
 [0 0 0 ..., 0 0 1]]
(1500, 1500)
--------------------------------------------------------
There are totally 30 blocks for workers.


========================================================
data is ready!
========================================================
data is sending...


data is sending to rank 30
data is sending to rank 29
data is sending to rank 28
data is sending to rank 27
data is sending to rank 26
data is sending to rank 25
data is sending to rank 24
data is sending to rank 23
data is sending to rank 22
data is sending to rank 21
data is sending to rank 20
data is sending to rank 19
data is sending to rank 18
data is sending to rank 17
data is sending to rank 16
data is sending to rank 15
data is sending to rank 14
data is sending to rank 13
data is sending to rank 12
data is sending to rank 11
data is sending to rank 10
data is sending to rank 9
data is sending to rank 8
data is sending to rank 7
data is sending to rank 6
data is sending to rank 5
data is sending to rank 4
data is sending to rank 3
data is sending to rank 2
data is sending to rank 1
========================================================
vander_matrix which is used to figure out the factor...
[[                1                 1                 1                 1
                  1                 1                 1                 1
                  1                 1                 1                 1
                  1                 1                 1]
 [                1                 2                 4                 8
                 16                32                64               128
                256               512              1024              2048
               4096              8192             16384]
 [                1                 3                 9                27
                 81               243               729              2187
               6561             19683             59049            177147
             531441           1594323           4782969]
 [                1                 4                16                64
                256              1024              4096             16384
              65536            262144           1048576           4194304
           16777216          67108864         268435456]
 [                1                 5                25               125
                625              3125             15625             78125
             390625           1953125           9765625          48828125
          244140625        1220703125        6103515625]
 [                1                 6                36               216
               1296              7776             46656            279936
            1679616          10077696          60466176         362797056
         2176782336       13060694016       78364164096]
 [                1                 7                49               343
               2401             16807            117649            823543
            5764801          40353607         282475249        1977326743
        13841287201       96889010407      678223072849]
 [                1                 8                64               512
               4096             32768            262144           2097152
           16777216         134217728        1073741824        8589934592
        68719476736      549755813888     4398046511104]
 [                1                 9                81               729
               6561             59049            531441           4782969
           43046721         387420489        3486784401       31381059609
       282429536481     2541865828329    22876792454961]
 [                1                10               100              1000
              10000            100000           1000000          10000000
          100000000        1000000000       10000000000      100000000000
      1000000000000    10000000000000   100000000000000]
 [                1                11               121              1331
              14641            161051           1771561          19487171
          214358881        2357947691       25937424601      285311670611
      3138428376721    34522712143931   379749833583241]
 [                1                12               144              1728
              20736            248832           2985984          35831808
          429981696        5159780352       61917364224      743008370688
      8916100448256   106993205379072  1283918464548864]
 [                1                13               169              2197
              28561            371293           4826809          62748517
          815730721       10604499373      137858491849     1792160394037
     23298085122481   302875106592253  3937376385699289]
 [                1                14               196              2744
              38416            537824           7529536         105413504
         1475789056       20661046784      289254654976     4049565169664
     56693912375296   793714773254144 11112006825558016]
 [                1                15               225              3375
              50625            759375          11390625         170859375
         2562890625       38443359375      576650390625     8649755859375
    129746337890625  1946195068359375 29192926025390625]]
---------------------------------------------------------


receiving partial results...


Back from rank 15
mtrx5 now is (1, 100, 1500)


Back from rank 16
mtrx4(redundency group) now is (1, 100, 1500)


Back from rank 14
mtrx5 now is (2, 100, 1500)


Back from rank 3
mtrx5 now is (3, 100, 1500)


Back from rank 6
mtrx5 now is (4, 100, 1500)


Back from rank 13
mtrx5 now is (5, 100, 1500)


Back from rank 10
mtrx5 now is (6, 100, 1500)


Back from rank 12
mtrx5 now is (7, 100, 1500)


Back from rank 4
mtrx5 now is (8, 100, 1500)


Back from rank 5
mtrx5 now is (9, 100, 1500)


Back from rank 8
mtrx5 now is (10, 100, 1500)


Back from rank 11
mtrx5 now is (11, 100, 1500)


Back from rank 19
mtrx4(redundency group) now is (2, 100, 1500)


Back from rank 18
mtrx4(redundency group) now is (3, 100, 1500)


Back from rank 2
mtrx5 now is (12, 100, 1500)


useless workers: []


Finally, mtrx4(redundency-based results) is
(3, 100, 1500)
mtrx6(ranks who have contributions to the redundency-based results): [16, 19, 18]
++++++++++++++++++++++++++++++++++++++++
Finally, mtrx5 is
(12, 100, 1500)
mtrx7(ranks who have contributions to the results): [15, 14, 3, 6, 13, 10, 12, 4, 5, 8, 11, 2]


========================================================


starting decoding...


---------------------------------------------------------
mtrx4 length: 3
mtrx5 length: 12
mtrx6 length(rank): 3
mtrx7 length(rank): 12
---------------------------------------------------------
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 268435456
alpha is 67108864
alpha is 16
alpha is 1024
alpha is 16777216
alpha is 262144
alpha is 4194304
alpha is 64
alpha is 256
alpha is 16384
alpha is 1048576
alpha is 4
alpha is 4782969
alpha is 1594323
alpha is 9
alpha is 243
alpha is 531441
alpha is 19683
alpha is 177147
alpha is 27
alpha is 81
alpha is 2187
alpha is 59049
alpha is 3
--------------------------------------------
mtrx8 is
[[        1         1         1         1         1         1         1
          1         1         1         1         1         1         1
          1]
 [        1         4        16        64       256      1024      4096
      16384     65536    262144   1048576   4194304  16777216  67108864
  268435456]
 [        1         3         9        27        81       243       729
       2187      6561     19683     59049    177147    531441   1594323
    4782969]]
--------------------------------------------
rank that did not send back partial results(mtrx9):
[1, 7, 9]
---------------------------------------------------------
mtrx10 is
[[    1     1     1]
 [    1  4096 65536]
 [    1   729  6561]]
beta is 1.0
beta is 1.0
beta is 0.177777777778
--------------------------------------------
mtrx10 now(triangular matrix) is
[[  1.00000000e+00   1.00000000e+00   1.00000000e+00]
 [  0.00000000e+00   4.09500000e+03   6.55350000e+04]
 [  0.00000000e+00   0.00000000e+00  -5.09066667e+03]]
--------------------------------------------
results for workers of mtrx9 which are [1, 7, 9]
[[[ 399.  396.  363. ...,  399.  412.  406.]
  [ 380.  376.  368. ...,  376.  367.  371.]
  [ 348.  364.  366. ...,  362.  364.  364.]
  ..., 
  [ 384.  373.  367. ...,  411.  397.  394.]
  [ 346.  354.  363. ...,  388.  364.  364.]
  [ 399.  392.  357. ...,  385.  401.  394.]]

 [[ 396.  363.  374. ...,  368.  401.  369.]
  [ 380.  374.  375. ...,  381.  383.  380.]
  [ 348.  353.  346. ...,  374.  366.  356.]
  ..., 
  [ 347.  351.  329. ...,  363.  362.  373.]
  [ 373.  363.  350. ...,  341.  372.  350.]
  [ 369.  364.  366. ...,  375.  376.  381.]]

 [[ 351.  368.  355. ...,  358.  368.  363.]
  [ 374.  369.  359. ...,  400.  396.  385.]
  [ 385.  385.  370. ...,  385.  387.  375.]
  ..., 
  [ 395.  375.  360. ...,  382.  377.  378.]
  [ 351.  357.  339. ...,  377.  371.  367.]
  [ 388.  375.  360. ...,  379.  386.  369.]]]
--------------------------------------------------------------
mtrx5:
[[[ 339.  358.  335. ...,  366.  363.  357.]
  [ 400.  385.  360. ...,  386.  384.  381.]
  [ 372.  375.  347. ...,  358.  366.  365.]
  ..., 
  [ 346.  351.  348. ...,  364.  375.  376.]
  [ 357.  368.  343. ...,  368.  391.  367.]
  [ 393.  394.  366. ...,  402.  384.  380.]]

 [[ 375.  394.  365. ...,  382.  394.  404.]
  [ 362.  368.  358. ...,  375.  377.  371.]
  [ 379.  363.  362. ...,  367.  393.  389.]
  ..., 
  [ 355.  365.  338. ...,  357.  383.  375.]
  [ 389.  388.  372. ...,  381.  378.  389.]
  [ 366.  365.  367. ...,  378.  366.  396.]]

 [[ 378.  369.  361. ...,  381.  373.  357.]
  [ 352.  342.  345. ...,  372.  371.  352.]
  [ 381.  361.  366. ...,  392.  381.  383.]
  ..., 
  [ 377.  358.  342. ...,  373.  373.  370.]
  [ 383.  368.  366. ...,  404.  387.  387.]
  [ 403.  404.  384. ...,  413.  422.  391.]]

 ..., 
 [[ 394.  401.  359. ...,  385.  406.  383.]
  [ 414.  393.  365. ...,  403.  408.  408.]
  [ 358.  386.  371. ...,  366.  369.  385.]
  ..., 
  [ 374.  375.  360. ...,  376.  372.  354.]
  [ 370.  369.  335. ...,  358.  394.  360.]
  [ 392.  365.  340. ...,  378.  383.  369.]]

 [[ 373.  383.  353. ...,  390.  384.  360.]
  [ 381.  372.  370. ...,  386.  394.  393.]
  [ 373.  384.  352. ...,  372.  371.  379.]
  ..., 
  [ 361.  367.  343. ...,  368.  369.  370.]
  [ 411.  381.  374. ...,  397.  411.  377.]
  [ 381.  379.  373. ...,  394.  417.  382.]]

 [[ 382.  371.  356. ...,  368.  371.  388.]
  [ 376.  362.  378. ...,  387.  401.  381.]
  [ 375.  373.  344. ...,  396.  381.  386.]
  ..., 
  [ 375.  368.  361. ...,  375.  368.  356.]
  [ 391.  389.  385. ...,  396.  389.  392.]
  [ 394.  399.  392. ...,  406.  425.  397.]]]
--------------------------------------------------------------


Time taken in seconds(with sleep) 98.05048155784607


--------------------------------------------------------------
just for comparing...
mtrx1 * mtrx2:
[[399 396 363 ..., 399 412 406]
 [380 376 368 ..., 376 367 371]
 [348 364 366 ..., 362 364 364]
 ..., 
 [346 351 348 ..., 364 375 376]
 [357 368 343 ..., 368 391 367]
 [393 394 366 ..., 402 384 380]]
------------------------------------------------------
Running PBS epilogue script    - 05-Mar-2020 23:54:20
------------------------------------------------------
Checking node qb390 (MS)
Checking node qb395 ok
Checking node qb390 ok
------------------------------------------------------
Concluding PBS epilogue script - 05-Mar-2020 23:54:23
------------------------------------------------------
Exit Status:     0
Job ID:          760282.qb3
Username:        jianjun
Group:           latechusers
Job Name:        test1.pbs
Session Id:      41243
Resource Limits: ncpus=1,neednodes=2:ppn=20,nodes=2:ppn=20,walltime=24:00:00
Resources Used:  cput=00:34:42,mem=1700496kb,vmem=21416316kb,walltime=00:01:50
Queue Used:      checkpt
Account String:  loni_codedcomp
Node:            qb390
Process id:      42281
------------------------------------------------------
