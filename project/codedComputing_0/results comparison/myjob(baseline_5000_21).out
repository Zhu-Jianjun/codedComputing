--------------------------------------
Running PBS prologue script
--------------------------------------
User and Job Data:
--------------------------------------
Job ID:    762184.qb3
Username:  jianjun
Group:     latechusers
Date:      11-Mar-2020 19:17
Node:      qb025 (49175)
--------------------------------------
PBS has allocated the following nodes:

qb025
qb026

A total of 40 processors on 2 nodes allocated
---------------------------------------------
Check nodes and clean them of stray processes
---------------------------------------------
Checking node qb025 19:17:05 
Checking node qb026 19:17:06 
Done clearing all the allocated nodes
------------------------------------------------------
Concluding PBS prologue script - 11-Mar-2020 19:17:06
------------------------------------------------------


redun:
[[         1          0          0 ...,          0          0          0]
 [         0          1          0 ...,          0          0          0]
 [         0          0          1 ...,          0          0          0]
 ..., 
 [         0          0          0 ..., 1000000000          0          0]
 [         0          0          0 ...,          0 1000000000          0]
 [         0          0          0 ...,          0          0 1000000000]]
(5000, 5000)
encoder:
[[         1          0          0 ...,          0          0          0]
 [         0          1          0 ...,          0          0          0]
 [         0          0          1 ...,          0          0          0]
 ..., 
 [         0          0          0 ..., 1000000000          0          0]
 [         0          0          0 ...,          0 1000000000          0]
 [         0          0          0 ...,          0          0 1000000000]]
(10000, 5000)
------------------------------------------
mtrx1:
[[1 0 0 ..., 1 1 1]
 [1 0 0 ..., 0 1 1]
 [0 0 1 ..., 1 0 0]
 ..., 
 [0 1 0 ..., 0 0 0]
 [1 1 0 ..., 0 1 1]
 [1 0 0 ..., 0 0 1]]
(5000, 5000)
---------------------------------------------
mtrx1_coded:
(10000, 5000)
---------------------------------------------
mtrx2:
[[1 1 0 ..., 0 1 0]
 [1 1 0 ..., 1 0 1]
 [0 0 0 ..., 0 0 1]
 ..., 
 [1 1 0 ..., 0 1 1]
 [1 1 0 ..., 0 0 0]
 [0 1 1 ..., 1 0 1]]
(5000, 5000)
--------------------------------------------------------
There are totally 20 blocks for workers.


========================================================
data is ready!
========================================================
data is sending...


data is sending to rank 20
data is sending to rank 19
data is sending to rank 18
data is sending to rank 17
data is sending to rank 16
data is sending to rank 15
data is sending to rank 14
data is sending to rank 13
data is sending to rank 12
data is sending to rank 11
data is sending to rank 10
data is sending to rank 9
data is sending to rank 8
data is sending to rank 7
data is sending to rank 6
data is sending to rank 5
data is sending to rank 4
data is sending to rank 3
data is sending to rank 2
data is sending to rank 1
========================================================
vander_matrix which is used to figure out the factor...
[[         1          1          1          1          1          1
           1          1          1          1]
 [         1          2          4          8         16         32
          64        128        256        512]
 [         1          3          9         27         81        243
         729       2187       6561      19683]
 [         1          4         16         64        256       1024
        4096      16384      65536     262144]
 [         1          5         25        125        625       3125
       15625      78125     390625    1953125]
 [         1          6         36        216       1296       7776
       46656     279936    1679616   10077696]
 [         1          7         49        343       2401      16807
      117649     823543    5764801   40353607]
 [         1          8         64        512       4096      32768
      262144    2097152   16777216  134217728]
 [         1          9         81        729       6561      59049
      531441    4782969   43046721  387420489]
 [         1         10        100       1000      10000     100000
     1000000   10000000  100000000 1000000000]]
---------------------------------------------------------


receiving partial results...


Back from rank 20
mtrx4(redundency group) now is (1, 500, 5000)


Back from rank 11
mtrx4(redundency group) now is (2, 500, 5000)


Back from rank 4
mtrx5 now is (1, 500, 5000)


Back from rank 14
mtrx4(redundency group) now is (3, 500, 5000)


Back from rank 17
mtrx4(redundency group) now is (4, 500, 5000)


Back from rank 19
mtrx4(redundency group) now is (5, 500, 5000)


Back from rank 6
mtrx5 now is (2, 500, 5000)


Back from rank 2
mtrx5 now is (3, 500, 5000)


Back from rank 5
mtrx5 now is (4, 500, 5000)


Back from rank 15
mtrx4(redundency group) now is (6, 500, 5000)


time to receive all the necessary results: 4591.562761306763
useless workers: []


Finally, mtrx4(redundency-based results) is
(6, 500, 5000)
mtrx6(ranks who have contributions to the redundency-based results): [20, 11, 14, 17, 19, 15]
++++++++++++++++++++++++++++++++++++++++
Finally, mtrx5 is
(4, 500, 5000)
mtrx7(ranks who have contributions to the results): [4, 6, 2, 5]


========================================================


starting decoding...


---------------------------------------------------------
mtrx4 length: 6
mtrx5 length: 4
mtrx6 length(rank): 6
mtrx7 length(rank): 4
---------------------------------------------------------
alpha is 1000
alpha is 100000
alpha is 10
alpha is 10000
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 64
alpha is 1024
alpha is 4
alpha is 256
alpha is 343
alpha is 16807
alpha is 7
alpha is 2401
alpha is 729
alpha is 59049
alpha is 9
alpha is 6561
alpha is 125
alpha is 3125
alpha is 5
alpha is 625
--------------------------------------------
mtrx8 is
[[         1         10        100       1000      10000     100000
     1000000   10000000  100000000 1000000000]
 [         1          1          1          1          1          1
           1          1          1          1]
 [         1          4         16         64        256       1024
        4096      16384      65536     262144]
 [         1          7         49        343       2401      16807
      117649     823543    5764801   40353607]
 [         1          9         81        729       6561      59049
      531441    4782969   43046721  387420489]
 [         1          5         25        125        625       3125
       15625      78125     390625    1953125]]
--------------------------------------------
rank that did not send back partial results(mtrx9):
[1, 3, 7, 8, 9, 10]
---------------------------------------------------------
mtrx10 is
[[         1        100    1000000   10000000  100000000 1000000000]
 [         1          1          1          1          1          1]
 [         1         16       4096      16384      65536     262144]
 [         1         49     117649     823543    5764801   40353607]
 [         1         81     531441    4782969   43046721  387420489]
 [         1         25      15625      78125     390625    1953125]]
beta is 1.0
beta is 1.0
beta is 1.0
beta is 1.0
beta is 1.0
beta is 0.848484848485
beta is 0.515151515152
beta is 0.191919191919
beta is 0.757575757576
beta is 2.49084249084
beta is 1.87654320988
beta is 1.53846153846
beta is 1.66355304112
beta is 0.138204597669
beta is -0.0761559036411
--------------------------------------------
mtrx10 now(triangular matrix) is
[[  1.00000000e+00   1.00000000e+02   1.00000000e+06   1.00000000e+07
    1.00000000e+08   1.00000000e+09]
 [  0.00000000e+00  -9.90000000e+01  -9.99999000e+05  -9.99999900e+06
   -9.99999990e+07  -9.99999999e+08]
 [  0.00000000e+00   0.00000000e+00  -1.47420000e+05  -1.49876836e+06
   -1.50859800e+07  -1.51253008e+08]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00  -2.91746440e+05
   -5.14324800e+06  -6.77474583e+07]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00   5.82076609e-11
   -8.95800815e+05  -2.41260232e+07]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00   4.43285702e-12
    0.00000000e+00  -2.48511126e+05]]
--------------------------------------------
results for workers of mtrx9 which are [1, 3, 7, 8, 9, 10]
[[[ 1232.          1233.          1240.         ...,  1246.          1250.
    1287.        ]
  [ 1190.          1242.          1245.         ...,  1278.          1261.
    1254.        ]
  [ 1229.          1237.          1257.         ...,  1245.          1246.
    1288.        ]
  ..., 
  [ 1233.          1216.          1253.         ...,  1252.          1221.
    1290.        ]
  [ 1215.          1226.          1249.         ...,  1261.          1255.
    1288.        ]
  [ 1225.          1230.          1243.         ...,  1248.          1253.
    1288.        ]]

 [[ 1251.99997781  1216.99999753  1238.9999852  ...,  1218.99998274
    1232.0000074   1315.00002713]
  [ 1200.00002713  1224.          1215.99999753 ...,  1236.99999014
    1224.00000247  1287.00002466]
  [ 1226.99998767  1232.99997534  1244.9999852  ...,  1276.0000074
    1233.00003206  1262.00002959]
  ..., 
  [ 1213.00002713  1200.99997287  1247.99997781 ...,  1180.99998767
    1242.99999507  1244.99999753]
  [ 1267.00002713  1246.00001233  1263.99998767 ...,  1272.          1262.99999753
    1293.00000986]
  [ 1249.99999753  1288.00000247  1261.00000493 ...,  1270.99998027
    1273.99999507  1314.        ]]

 [[ 1237.00000028  1213.00000011  1222.00000026 ...,  1218.00000031
    1277.00000004  1308.99999963]
  [ 1221.99999969  1238.00000014  1230.00000017 ...,  1235.00000023
    1268.00000009  1248.99999969]
  [ 1242.00000017  1224.00000038  1242.00000029 ...,  1234.00000003
    1236.9999996   1303.99999966]
  ..., 
  [ 1267.99999967  1268.00000041  1236.00000034 ...,  1269.00000027
    1255.00000019  1317.00000009]
  [ 1244.99999968  1284.99999996  1259.00000023 ...,  1283.0000001
    1295.0000002   1290.99999983]
  [ 1245.0000001   1241.00000009  1284.00000006 ...,  1256.00000029
    1233.00000014  1328.00000005]]

 [[ 1174.99999991  1222.99999996  1211.99999992 ...,  1250.9999999
    1246.99999998  1274.00000012]
  [ 1194.0000001   1223.99999995  1254.99999994 ...,  1225.99999993
    1244.99999997  1250.0000001 ]
  [ 1266.99999994  1247.99999988  1235.99999991 ...,  1224.99999999
    1286.00000013  1327.00000011]
  ..., 
  [ 1233.0000001   1278.99999987  1272.99999989 ...,  1274.99999991
    1272.99999993  1332.99999997]
  [ 1223.0000001   1222.00000001  1228.99999992 ...,  1221.99999997
    1218.99999993  1259.00000006]
  [ 1248.99999996  1268.99999997  1298.99999998 ...,  1270.99999991
    1287.99999995  1295.99999998]]

 [[ 1252.00000001  1288.          1269.00000001 ...,  1274.00000001  1300.
    1319.99999999]
  [ 1188.99999999  1195.00000001  1310.00000001 ...,  1186.00000001  1234.
    1242.99999999]
  [ 1216.00000001  1225.00000001  1258.00000001 ...,  1221.          1229.99999999
    1258.99999999]
  ..., 
  [ 1204.99999999  1245.00000001  1246.00000001 ...,  1243.00000001
    1244.00000001  1309.        ]
  [ 1235.99999999  1245.          1219.00000001 ...,  1195.          1253.00000001
    1299.99999999]
  [ 1217.          1257.          1289.         ...,  1218.00000001
    1305.00000001  1296.        ]]

 [[ 1253.          1235.          1276.         ...,  1272.          1264.
    1323.        ]
  [ 1238.          1267.          1251.         ...,  1304.          1268.
    1336.        ]
  [ 1263.          1246.          1320.         ...,  1297.          1298.
    1303.        ]
  ..., 
  [ 1243.          1290.          1232.         ...,  1279.          1264.
    1305.        ]
  [ 1242.          1256.          1272.         ...,  1273.          1305.
    1313.        ]
  [ 1167.          1189.          1212.         ...,  1210.          1242.
    1285.        ]]]
--------------------------------------------------------------
mtrx5:
[[[1197 1247 1213 ..., 1229 1227 1257]
  [1212 1258 1268 ..., 1238 1262 1282]
  [1265 1223 1257 ..., 1259 1232 1319]
  ..., 
  [1248 1268 1259 ..., 1275 1272 1349]
  [1230 1234 1243 ..., 1251 1254 1280]
  [1230 1257 1240 ..., 1263 1238 1323]]

 [[1243 1286 1288 ..., 1289 1295 1324]
  [1233 1242 1289 ..., 1233 1244 1289]
  [1273 1254 1267 ..., 1284 1318 1329]
  ..., 
  [1185 1237 1261 ..., 1260 1286 1304]
  [1231 1208 1201 ..., 1226 1230 1251]
  [1226 1239 1267 ..., 1251 1230 1336]]

 [[1235 1260 1247 ..., 1250 1283 1319]
  [1255 1251 1282 ..., 1293 1268 1309]
  [1243 1252 1291 ..., 1261 1304 1331]
  ..., 
  [1219 1199 1217 ..., 1222 1216 1270]
  [1196 1234 1214 ..., 1238 1248 1285]
  [1236 1253 1260 ..., 1228 1230 1279]]

 [[1228 1250 1259 ..., 1219 1227 1302]
  [1233 1251 1248 ..., 1281 1250 1311]
  [1285 1284 1276 ..., 1295 1290 1337]
  ..., 
  [1237 1224 1255 ..., 1225 1216 1300]
  [1170 1228 1226 ..., 1208 1253 1292]
  [1216 1232 1240 ..., 1270 1243 1278]]]


time for processing: 7.001396656036377
--------------------------------------------------------------


Time taken in seconds(with sleep) 4600.392060041428


--------------------------------------------------------------
just for comparing...
mtrx1 * mtrx2:
[[1232 1233 1240 ..., 1246 1250 1287]
 [1190 1242 1245 ..., 1278 1261 1254]
 [1229 1237 1257 ..., 1245 1246 1288]
 ..., 
 [1243 1290 1232 ..., 1279 1264 1305]
 [1242 1256 1272 ..., 1273 1305 1313]
 [1167 1189 1212 ..., 1210 1242 1285]]
------------------------------------------------------
Running PBS epilogue script    - 11-Mar-2020 20:45:40
------------------------------------------------------
Checking node qb025 (MS)
Checking node qb026 ok
Checking node qb025 ok
------------------------------------------------------
Concluding PBS epilogue script - 11-Mar-2020 20:45:43
------------------------------------------------------
Exit Status:     0
Job ID:          762184.qb3
Username:        jianjun
Group:           latechusers
Job Name:        test.pbs
Session Id:      49174
Resource Limits: ncpus=1,neednodes=2:ppn=20,nodes=2:ppn=20,walltime=24:00:00
Resources Used:  cput=29:29:39,mem=12351168kb,vmem=32114496kb,walltime=01:28:37
Queue Used:      workq
Account String:  loni_codedcomp
Node:            qb025
Process id:      51128
------------------------------------------------------
