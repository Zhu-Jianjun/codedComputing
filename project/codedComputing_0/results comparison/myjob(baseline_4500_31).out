--------------------------------------
Running PBS prologue script
--------------------------------------
User and Job Data:
--------------------------------------
Job ID:    760283.qb3
Username:  jianjun
Group:     latechusers
Date:      05-Mar-2020 23:56
Node:      qb393 (41945)
--------------------------------------
PBS has allocated the following nodes:

qb393
qb394

A total of 40 processors on 2 nodes allocated
---------------------------------------------
Check nodes and clean them of stray processes
---------------------------------------------
Checking node qb393 23:56:27 
Checking node qb394 23:56:28 
Done clearing all the allocated nodes
------------------------------------------------------
Concluding PBS prologue script - 05-Mar-2020 23:56:28
------------------------------------------------------


redun:
[[  1.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   1.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   1.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 ..., 
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   2.91929260e+16
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    2.91929260e+16   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   2.91929260e+16]]
(4500, 4500)
encoder:
[[  1.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   1.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   1.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   0.00000000e+00]
 ..., 
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   2.91929260e+16
    0.00000000e+00   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    2.91929260e+16   0.00000000e+00]
 [  0.00000000e+00   0.00000000e+00   0.00000000e+00 ...,   0.00000000e+00
    0.00000000e+00   2.91929260e+16]]
(9000, 4500)
------------------------------------------
mtrx1:
[[1 0 0 ..., 0 1 0]
 [1 0 1 ..., 1 1 0]
 [1 0 0 ..., 0 1 0]
 ..., 
 [1 1 0 ..., 1 1 0]
 [1 1 0 ..., 1 0 0]
 [1 0 0 ..., 0 1 0]]
(4500, 4500)
---------------------------------------------
mtrx1_coded:
(9000, 4500)
---------------------------------------------
mtrx2:
[[1 1 0 ..., 0 1 0]
 [0 1 1 ..., 1 1 1]
 [1 0 0 ..., 0 1 0]
 ..., 
 [0 0 0 ..., 0 1 1]
 [0 0 0 ..., 0 0 0]
 [0 1 0 ..., 0 0 0]]
(4500, 4500)
--------------------------------------------------------
There are totally 30 blocks for workers.


========================================================
data is ready!
========================================================
data is sending...


data is sending to rank 30
data is sending to rank 29
data is sending to rank 28
data is sending to rank 27
data is sending to rank 26
data is sending to rank 25
data is sending to rank 24
data is sending to rank 23
data is sending to rank 22
data is sending to rank 21
data is sending to rank 20
data is sending to rank 19
data is sending to rank 18
data is sending to rank 17
data is sending to rank 16
data is sending to rank 15
data is sending to rank 14
data is sending to rank 13
data is sending to rank 12
data is sending to rank 11
data is sending to rank 10
data is sending to rank 9
data is sending to rank 8
data is sending to rank 7
data is sending to rank 6
data is sending to rank 5
data is sending to rank 4
data is sending to rank 3
data is sending to rank 2
data is sending to rank 1
========================================================
vander_matrix which is used to figure out the factor...
[[                1                 1                 1                 1
                  1                 1                 1                 1
                  1                 1                 1                 1
                  1                 1                 1]
 [                1                 2                 4                 8
                 16                32                64               128
                256               512              1024              2048
               4096              8192             16384]
 [                1                 3                 9                27
                 81               243               729              2187
               6561             19683             59049            177147
             531441           1594323           4782969]
 [                1                 4                16                64
                256              1024              4096             16384
              65536            262144           1048576           4194304
           16777216          67108864         268435456]
 [                1                 5                25               125
                625              3125             15625             78125
             390625           1953125           9765625          48828125
          244140625        1220703125        6103515625]
 [                1                 6                36               216
               1296              7776             46656            279936
            1679616          10077696          60466176         362797056
         2176782336       13060694016       78364164096]
 [                1                 7                49               343
               2401             16807            117649            823543
            5764801          40353607         282475249        1977326743
        13841287201       96889010407      678223072849]
 [                1                 8                64               512
               4096             32768            262144           2097152
           16777216         134217728        1073741824        8589934592
        68719476736      549755813888     4398046511104]
 [                1                 9                81               729
               6561             59049            531441           4782969
           43046721         387420489        3486784401       31381059609
       282429536481     2541865828329    22876792454961]
 [                1                10               100              1000
              10000            100000           1000000          10000000
          100000000        1000000000       10000000000      100000000000
      1000000000000    10000000000000   100000000000000]
 [                1                11               121              1331
              14641            161051           1771561          19487171
          214358881        2357947691       25937424601      285311670611
      3138428376721    34522712143931   379749833583241]
 [                1                12               144              1728
              20736            248832           2985984          35831808
          429981696        5159780352       61917364224      743008370688
      8916100448256   106993205379072  1283918464548864]
 [                1                13               169              2197
              28561            371293           4826809          62748517
          815730721       10604499373      137858491849     1792160394037
     23298085122481   302875106592253  3937376385699289]
 [                1                14               196              2744
              38416            537824           7529536         105413504
         1475789056       20661046784      289254654976     4049565169664
     56693912375296   793714773254144 11112006825558016]
 [                1                15               225              3375
              50625            759375          11390625         170859375
         2562890625       38443359375      576650390625     8649755859375
    129746337890625  1946195068359375 29192926025390625]]
---------------------------------------------------------


receiving partial results...


Back from rank 10
mtrx5 now is (1, 300, 4500)


Back from rank 6
mtrx5 now is (2, 300, 4500)


Back from rank 2
mtrx5 now is (3, 300, 4500)


Back from rank 4
mtrx5 now is (4, 300, 4500)


Back from rank 15
mtrx5 now is (5, 300, 4500)


Back from rank 13
mtrx5 now is (6, 300, 4500)


Back from rank 9
mtrx5 now is (7, 300, 4500)


Back from rank 19
mtrx4(redundency group) now is (1, 300, 4500)


Back from rank 14
mtrx5 now is (8, 300, 4500)


Back from rank 17
mtrx4(redundency group) now is (2, 300, 4500)


Back from rank 11
mtrx5 now is (9, 300, 4500)


Back from rank 7
mtrx5 now is (10, 300, 4500)


Back from rank 3
mtrx5 now is (11, 300, 4500)


Back from rank 8
mtrx5 now is (12, 300, 4500)


Back from rank 16
mtrx4(redundency group) now is (3, 300, 4500)


useless workers: []


Finally, mtrx4(redundency-based results) is
(3, 300, 4500)
mtrx6(ranks who have contributions to the redundency-based results): [19, 17, 16]
++++++++++++++++++++++++++++++++++++++++
Finally, mtrx5 is
(12, 300, 4500)
mtrx7(ranks who have contributions to the results): [10, 6, 2, 4, 15, 13, 9, 14, 11, 7, 3, 8]


========================================================


starting decoding...


---------------------------------------------------------
mtrx4 length: 3
mtrx5 length: 12
mtrx6 length(rank): 3
mtrx7 length(rank): 12
---------------------------------------------------------
alpha is 262144
alpha is 1024
alpha is 4
alpha is 64
alpha is 268435456
alpha is 16777216
alpha is 65536
alpha is 67108864
alpha is 1048576
alpha is 4096
alpha is 16
alpha is 16384
alpha is 512
alpha is 32
alpha is 2
alpha is 8
alpha is 16384
alpha is 4096
alpha is 256
alpha is 8192
alpha is 1024
alpha is 64
alpha is 4
alpha is 128
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
alpha is 1
--------------------------------------------
mtrx8 is
[[        1         4        16        64       256      1024      4096
      16384     65536    262144   1048576   4194304  16777216  67108864
  268435456]
 [        1         2         4         8        16        32        64
        128       256       512      1024      2048      4096      8192
      16384]
 [        1         1         1         1         1         1         1
          1         1         1         1         1         1         1
          1]]
--------------------------------------------
rank that did not send back partial results(mtrx9):
[1, 5, 12]
---------------------------------------------------------
mtrx10 is
[[      1     256 4194304]
 [      1      16    2048]
 [      1       1       1]]
beta is 1.0
beta is 1.0
beta is 1.0625
--------------------------------------------
mtrx10 now(triangular matrix) is
[[  1.00000000e+00   2.56000000e+02   4.19430400e+06]
 [  0.00000000e+00  -2.40000000e+02  -4.19225600e+06]
 [  0.00000000e+00   0.00000000e+00   2.59969000e+05]]
--------------------------------------------
results for workers of mtrx9 which are [1, 5, 12]
[[[ 1132.  1117.  1143. ...,  1108.  1136.  1152.]
  [ 1099.  1115.  1114. ...,  1102.  1109.  1130.]
  [ 1092.  1089.  1100. ...,  1107.  1112.  1117.]
  ..., 
  [ 1171.  1132.  1156. ...,  1131.  1185.  1157.]
  [ 1155.  1164.  1149. ...,  1120.  1135.  1175.]
  [ 1067.  1120.  1099. ...,  1055.  1115.  1132.]]

 [[ 1137.  1156.  1138. ...,  1101.  1120.  1122.]
  [ 1118.  1136.  1142. ...,  1098.  1127.  1142.]
  [ 1090.  1101.  1097. ...,  1085.  1112.  1098.]
  ..., 
  [ 1145.  1176.  1148. ...,  1133.  1110.  1154.]
  [ 1126.  1086.  1095. ...,  1095.  1150.  1169.]
  [ 1126.  1101.  1088. ...,  1095.  1118.  1136.]]

 [[ 1127.  1154.  1122. ...,  1105.  1126.  1141.]
  [ 1104.  1105.  1135. ...,  1101.  1108.  1120.]
  [ 1110.  1090.  1115. ...,  1092.  1083.  1127.]
  ..., 
  [ 1081.  1106.  1140. ...,  1097.  1120.  1131.]
  [ 1065.  1087.  1101. ...,  1093.  1093.  1144.]
  [ 1136.  1139.  1174. ...,  1106.  1151.  1147.]]]
--------------------------------------------------------------
mtrx5:
[[[ 1170.  1155.  1179. ...,  1158.  1162.  1180.]
  [ 1129.  1114.  1158. ...,  1087.  1143.  1153.]
  [ 1098.  1141.  1130. ...,  1076.  1103.  1111.]
  ..., 
  [ 1137.  1148.  1155. ...,  1115.  1144.  1170.]
  [ 1094.  1115.  1139. ...,  1126.  1103.  1136.]
  [ 1103.  1114.  1140. ...,  1100.  1102.  1118.]]

 [[ 1118.  1143.  1132. ...,  1109.  1102.  1150.]
  [ 1097.  1091.  1139. ...,  1082.  1130.  1145.]
  [ 1145.  1159.  1143. ...,  1149.  1135.  1162.]
  ..., 
  [ 1143.  1146.  1149. ...,  1137.  1153.  1166.]
  [ 1133.  1120.  1142. ...,  1123.  1132.  1135.]
  [ 1091.  1122.  1113. ...,  1103.  1120.  1132.]]

 [[ 1132.  1114.  1171. ...,  1110.  1125.  1124.]
  [ 1107.  1130.  1157. ...,  1121.  1103.  1122.]
  [ 1052.  1071.  1076. ...,  1027.  1083.  1074.]
  ..., 
  [ 1092.  1133.  1128. ...,  1066.  1113.  1113.]
  [ 1127.  1149.  1136. ...,  1102.  1118.  1173.]
  [ 1155.  1165.  1140. ...,  1143.  1149.  1171.]]

 ..., 
 [[ 1111.  1121.  1115. ...,  1075.  1112.  1146.]
  [ 1125.  1150.  1116. ...,  1144.  1119.  1146.]
  [ 1119.  1127.  1115. ...,  1133.  1169.  1161.]
  ..., 
  [ 1115.  1108.  1137. ...,  1121.  1122.  1123.]
  [ 1164.  1174.  1151. ...,  1125.  1160.  1179.]
  [ 1153.  1161.  1166. ...,  1131.  1159.  1170.]]

 [[ 1098.  1109.  1120. ...,  1065.  1117.  1124.]
  [ 1104.  1115.  1148. ...,  1076.  1085.  1113.]
  [ 1114.  1116.  1112. ...,  1083.  1101.  1138.]
  ..., 
  [ 1115.  1110.  1106. ...,  1081.  1137.  1123.]
  [ 1110.  1154.  1114. ...,  1109.  1133.  1170.]
  [ 1077.  1119.  1097. ...,  1113.  1121.  1183.]]

 [[ 1116.  1117.  1093. ...,  1083.  1120.  1143.]
  [ 1115.  1083.  1101. ...,  1063.  1129.  1101.]
  [ 1154.  1163.  1135. ...,  1129.  1161.  1141.]
  ..., 
  [ 1145.  1125.  1133. ...,  1113.  1148.  1124.]
  [ 1116.  1182.  1156. ...,  1113.  1132.  1153.]
  [ 1081.  1080.  1074. ...,  1083.  1109.  1131.]]]
--------------------------------------------------------------


Time taken in seconds(with sleep) 2546.6441094875336


--------------------------------------------------------------
just for comparing...
mtrx1 * mtrx2:
[[1132 1117 1143 ..., 1108 1136 1152]
 [1099 1115 1114 ..., 1102 1109 1130]
 [1092 1089 1100 ..., 1107 1112 1117]
 ..., 
 [1111 1131 1128 ..., 1115 1127 1170]
 [1081 1086 1102 ..., 1105 1115 1134]
 [1130 1112 1107 ..., 1079 1111 1118]]
------------------------------------------------------
Running PBS epilogue script    - 06-Mar-2020 00:44:04
------------------------------------------------------
Checking node qb393 (MS)
Checking node qb394 ok
Checking node qb393 ok
------------------------------------------------------
Concluding PBS epilogue script - 06-Mar-2020 00:44:08
------------------------------------------------------
Exit Status:     0
Job ID:          760283.qb3
Username:        jianjun
Group:           latechusers
Job Name:        test1.pbs
Session Id:      41944
Resource Limits: ncpus=1,neednodes=2:ppn=20,nodes=2:ppn=20,walltime=24:00:00
Resources Used:  cput=15:51:22,mem=10598280kb,vmem=30305240kb,walltime=00:47:39
Queue Used:      checkpt
Account String:  loni_codedcomp
Node:            qb393
Process id:      43775
------------------------------------------------------
